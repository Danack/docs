<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>React JS - because full stack devs get paid more.</title>

        <meta name="description" content="Danack talking about interface segregation">
        <meta name="author" content="Dan Ackroyd">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="css/reveal.css">
        <!-- link rel="stylesheet" href="css/theme/black.css" id="theme" -->
        <link rel="stylesheet" href="css/theme/whiteDanack.css" id="themecss">
        <!-- <link rel="stylesheet" href="lib/css/vsdanack.css" id="codeststylecss"> -->
        <link rel="stylesheet" href="lib/css/zenburn_backup.css" id="codeststylecss">
      
        <style type="text/css">
        /* overrides */
        

        body {
            background: #a8fcfc;
            /* background: -moz-radial-gradient(center, circle cover, #ffffff 0%, #1f1f1f 100%);
            background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%, #555a5f), color-stop(100%, #1f1f1f));*/
            background: -webkit-radial-gradient(center, circle cover, #f2f3ff 45%, rgba(36, 133, 245, 0.21) 75%);
            /* background: -o-radial-gradient(center, circle cover, #ffffff 0%, #efefef 100%);
            background: -ms-radial-gradient(center, circle cover, #ffffff 0%, #efefef 100%); */
            /* background: radial-gradient(center, circle cover, #ffffff 0%, #7f7f7f 100%); */
            /*background-color: #fdfdfd; */
        }
        .reveal section img {
            border: 0;
            background: none;
            box-shadow: 0 0 #000;
        }
        .reveal pre {
            width: 90%;
            font-size: 0.68em;
            margin-left: 0px;
            margin-right: auto;
            padding-left: 20px;
            padding-right: 20px;
            padding-top: 20px;
            padding-bottom: 20px;
          
            /* box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.7); */
        }
        
        /* 
        .reveal pre {
          box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.3);
        }
        
        */
        
        .preformatted {
          font-family: monospace;
          white-space: pre;
      }

        .spaceTop {
            margin-top: 50px !important;
        }
        .spaceBottom {
            margin-bottom: 50px !important;
        }

        h2, p, section { text-align: left; }
        .reveal .slides {text-align: left; }
        
        
        h1, h2, h3, h4, h5 {
            font-family: "Quicksand", sans-serif !important;
            font-weight: 200 !important;
            /*text-transform: uppercase; */
        }
            
        .embiggen { 
            font-size: 1.2em !important;  
        }
        .emlargen {
            font-size: 1.05em !important;
        }
        
        .emnormal {
          font-size: 0.9em !important;
        }
        
        .emsmallen { 
            font-size: 0.8em !important;  
        }
        .em_075 {
          font-size: 0.75em !important;
        }
        .em_08 {
          font-size: 0.8em !important;
        }
        .em_085 {
          font-size: 0.9em !important;
        }
        .em_09 {
          font-size: 0.9em !important;
        }
        .em_095 {
          font-size: 0.95em !important;
        }
        .em1 {
          font-size: 1.0em !important;  
        }
        .em1_1 {
          font-size: 1.1em !important;  
        }
        
        .em1_05 {
          font-size: 1.05em !important;  
        }
        .em1_1 {
          font-size: 1.1em !important;  
        }
        .em1_5 {
          font-size: 1.5em !important;  
        }
        .em1_2 {
          font-size: 1.2em !important;  
        }
        .em1_3 {
          font-size: 1.3em !important;  
        }
        .em1_4 {
          font-size: 1.4em !important;  
        }
        
         .em1_8 {
           font-size: 1.8em !important;
         }
        
        .em2 {
          font-size: 2em !important;  
        }
        th {
          font-size: 1.5em !important;
        }
        
        .finale {
            font-size: 148px !important; 
            text-align: center !important;
            /* margin-bottom: 148px !important; */
        }
        .speaker-controls-notes > ul, 
        .speaker-controls-notes ul, 
        .notes > ul,
        .notes  ul{
          margin-top: 0px;
          margin-bottom: 0px;
        }
        
        .centre {
            text-align: center !important;
        }
        
        .subtle {
            color: #7c7c7c;
        }
        
        .smallText {
            font-size: 24px !important;
        }
        
        blockquote {
            background-color: #f5f5f5;
        }
        
        blockquote {
            width: 90% !important;
            /* font-size: 36px !important; */
        }
            
        pre, .danackCode {
            font-size: 26px;
        }



        .rotate {
            /* Safari */
            -webkit-transform: rotate(-90deg);
            
            /* Firefox */
            -moz-transform: rotate(-90deg);
            
            /* IE */
            -ms-transform: rotate(-90deg);
            
            /* Opera */
            -o-transform: rotate(-90deg);
            
            /* Internet Explorer */
            filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
        }

        textarea, input {
            font-size: 1em !important;
        }

        .error {
            color: #8f2f2f;
        }

        </style>

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <script src="./plugin/jquery/jquery.min.js"></script>

        <script src="./js/react/babel.min.js"></script>
        <script src="./js/react/react.js"></script>
        <script src="./js/react/react-dom.js"></script>

    </head>

    <body>
      <div class="reveal">
        <div class="slides">

<!-- *************************** -->
<section class="em1_4">
  <h1>ReactJS is awesome and you can too!</h1>
  <p>
    <a href="http://twitter.com/MrDanack">@MrDanack</a>
  </p>
  <p class="subtle" style="padding-top: 100px">
    <small>Press 'c' to toggle code style</small><br/>
    <small>Press 's' for speaker notes</small>
  </p>
</section>

<!-- *************************** -->
<section class="em1_4">
  <h1>React JS - because full stack devs get paid more</h1>

  <p>
    <a href="http://twitter.com/MrDanack">@MrDanack</a>
  </p>
  <p class="subtle" style="padding-top: 100px">
    <small>Press 'c' to toggle code style</small><br/>
    <small>Press 's' for speaker notes</small>
  </p>
</section>

<!-- *************************** -->
<section>
  <h1>The problem - handling forms in PHP sucks</h1>

  <ul>
    <li>layout HTML</li>
    <li>interactive Javascript</li>
    <li>displaying errors</li>
    <li>validation</li>
    <li>using the data</li>
  </ul>

  <aside class="notes">
  </aside>
</section>




<!-- *************************** -->
<section>
  <h1>Symfony/zend forms</h1>
  <p>
    Both are pretty terrible
  </p>
  <p>
    They start off simple, but when you need to do anything complicated they make you less productive than just not using a library, and instead coding everything by hand
  </p>
  <aside class="notes">
  </aside>
</section>

<!-- *************************** -->
<section>
  <h1>I tried to do better</h1>

  <p>https://github.com/Danack/FirstClassForms</p>

  <img src="/images/FCForms.png" />

  <p class="fragment">I failed</p>

  <aside class="notes">
<p>I spent 'some' time trying to make forms be better and although that library was better (imho) than Symfony, it still sucked
</p>
    <p>
    It still left a whole load of Javascript needed to be written to make the form be acceptable for a decent UX.
    The code for handling forms was still too complicated.
    </p>
  </aside>
</section>





<!-- *************************** -->
<section>
  <h1>Javascript libraries?</h1>

  <ul>
    <li>were terrible</li>
    <li>configuration magic</li>
    <li>long term viability</li>
  </ul>

  <aside class="notes">
    <p>Tried a couple, they all kind of either:</p>
    <ul>
      <li>were terrible</li>
      <li>forced you to learn a lot of configuration crap.</li>
      <li>didn't look like they were going to either be around in a few years</li>
    </ul>
  </aside>
</section>


<!-- *************************** -->
<section>
    <h1>Cutting the problem in two</h1>

    <p style="padding-bottom: 150px"></p>

<table>
  <thead>
    <th>
      React in browser
    </th>
    <th>
      PHP on the server
    </th>
  </thead>

  <tbody>
    <tr>
      <td>Component HTML</td>
      <td>Page layout HTML</td>
    </tr>
    <tr>
        <td>interactive Javascript</td>
        <td>validation</td>
    </tr>
    <tr>
        <td>displaying errors</td>
        <td>using the data</td>
    </tr>
  </tbody>
</table>

    <p style="padding-bottom: 200px"></p>


  <aside class="notes">
  </aside>
</section>

<!-- *************************** -->
<section>
    <h1>React Hello World</h1>

    <pre class="danackCode spaceTop em1" data-trim><code class="php" data-trim>
class HelloElement extends React.Component {
  render() {
    return (
      <div>
        <h2>Hello {this.props.name}! This is ReactJS.</h2>
      </div>
    );
  }
}

ReactDOM.render(
  &lt;HelloElement name="PHPSW" /&gt;,
  document.getElementById('react_hello_element_1')
);
</code>
</pre>


  <aside class="notes">
    <ul>
      <li>Name passed in as a property.</li>
    </ul>
  </aside>
</section>


<section>
    <h1>React Hello World</h1>

    <pre class="danackCode spaceTop em0_8" data-trim><code class="html" data-trim>
&lt;div id="react_hello_element_1"&gt;&lt;/div&gt;
</code>
</pre>

  <p>
    <div id="react_hello_element_1"></div>
  </p>

  <aside class="notes">
  </aside>
</section>




<!-- *************************** -->
<section>
    <h1>JSX is Javascript with XML</h1>
    <ul>
        <li>You could write raw JS + HTML....but kind of would be painful</li>

        <li>These slides are using Babel in browswer compiler</li>

        <li>For production you would 'want' to use ahead of time compilation</li>
    </ul>

    <aside class="notes">
        <p>Very similar to Javascript + HTML. Differences are: Can embed stuff in {} brackets, everything is camelCased, properties are maps, string interpolation is shit show.</p>

        <p>
            What's not to like?
        </p>
        <p>
            Babel in browser seems fine for dev work, but it's 1.4 MB, so not so okay for production.
        </p>

        <p>
            Want is in quotes, because this part of the Javascript ecosystem is a shitshow.
        </p>

    </aside>
</section>

<!-- *************************** -->
<section>
    <pre class="danackCode em0_8" data-trim><code class="js" data-trim>
class Clock extends React.Component {
    constructor(props) {
        super(props);
        this.state = {date: new Date()};
    }
    componentDidMount() {
        this.timerID = setInterval(
            () => this.tick(),
            1000
        );
    }
    componentWillUnmount() {
        clearInterval(this.timerID);
    }
    tick() {
        this.setState({
            date: new Date()
        });
    }
    render() {
        return (
            <div>
                <p>The time is {this.state.date.toLocaleTimeString()}</p>
            </div>
        );
    }
}
</code>
</pre>

    <aside class="notes">
        <ul>
            <li>Because we have a constructor, we need to pass props around</li>
            <li>ES6 has arrow functions</li>
        </ul>
    </aside>
</section>


<!-- *************************** -->
<section>
  <h1>React Clock</h1>

    <p>This is the code to load it on the page:</p>
  <pre class="danackCode spaceTop em0_8" data-trim><code class="html" data-trim>
     &lt;div id='clock'&gt;&lt;/div&gt;
</code></pre>

    <p>
        <div id='clock'></div>
    </p>

    <aside class="notes">
    </aside>
</section>

<!-- *************************** -->
<section>
    <h1>An actual form</h1>
    <p>
    <div id='simple_form'></div>
    </p>
    <p style="padding-bottom: 300px">

    </p>

    <aside class="notes">
    </aside>
</section>


<!-- *************************** -->
<section>
  <pre class="danackCode spaceTop em0_8" data-trim><code class="html" data-trim>
  &nbsp;&nbsp;formValidate()  {
    let params = "email=" + encodeURI(this.state.email)
      + "&question=" + encodeURI(this.state.question);

    fetch('/ReactJsIntro/validateForm.php?' + params)
      .then((data) => {
          this.setState({
            email_error: data.email_error,
            question_error: data.question_error,
          })
        }
      );
  }

  render() {
    return (
      &lt;div&gt;
        &lt;div&gt;{this.state.email_error}&lt;/div&gt;
        &lt;div&gt;&lt;input type="text" placeholder="Email" value={this.state.email}
          onBlur={() =&gt; this.formValidate()}/&gt; &lt;/div&gt;
      &lt;/div>
    );
</code></pre>

    <aside class="notes">
    </aside>
</section>



<!-- *************************** -->
<section>
<h1>Weather forecast</h1>

<p>
  <div id='weather_forecast' class="weather_forecast"></div>
</p>

    <p style="padding-bottom: 400px"></p>

<aside class="notes">
    <p>
        Really easy to implement things that aren't technically forms aka widgets.
    </p>
  <p>
    Child to Parent — Use a callback and states
  </p>
</aside>
</section>


<!-- *************************** -->
<section>
  <pre class="danackCode em0_9" data-trim><code class="php" data-trim>
class WeatherForecast extends React.Component {
  ...
  render() {
    return (
      &lt;div&gt;
        &lt;WeatherSearchBox handler={(city) => this.cityUpdateHandler(city)} /&gt;
        &lt;WeatherResults weather_conditions={this.state.weather_conditions} /&gt;
      &lt;/div&gt;
    );
  }
}
</code>
</pre>

  <aside class="notes">
    <ul>
    </ul>
  </aside>
</section>



<!-- *************************** -->
<section>
 <pre class="danackCode em0_8" data-trim><code class="php" data-trim>

class WeatherResults extends React.Component {
  render() {
    const listItems = this.props.weather_conditions.map((weather_condition) =&gt;
      &lt;ListItem key={weather_condition.dt}
                weather_condition={weather_condition} /&gt;
    );
    return (
      &lt;div &gt;
        {listItems}
      &lt;/div&gt;
    );
  }
}

function ListItem(props) {
    const wc = props.weather_condition;
    const styles = {width: '100px', marginBottom: "-35px"};

    return (&lt;li&gt;&lt;span&gt;{wc.time}
      &lt;img src={"" + wc.icon} style={styles}/&gt; {wc.description} : {wc.temp}
    &lt;/span&gt;&lt;/li&gt;)
}

</code>
</pre>

    <aside class="notes">
        <ul>
        </ul>
    </aside>
</section>

<!-- *************************** -->
<section>
    <h1>Testing is easy - real api</h1>
    <pre class="danackCode spaceTop em0_8" data-trim><code class="php" data-trim>
const weather_fetcher = function (city, onSuccess) {
  fetch('/getWeather.php?city=' + encodeURI(city))
    .then(handleErrors)
    .then((response) => response.json())
    .then(
      onSuccess
    )
    .catch((err) => {
      alert('error:' + err);
    });
};

ReactDOM.render(
  &lt;WeatherForecast weather_fetcher={weather_fetcher}/&gt;,
  document.getElementById('weather_forecast_mock')
);

</code></pre>

    <aside class="notes">
    </aside>
</section>


<!-- *************************** -->
<section>
    <h1>Testing is easy - mock api</h1>
    <pre class="danackCode spaceTop em0_8" data-trim><code class="php" data-trim>
const weather_fetcher_stub = function (city, onSuccess) {
  let data = [{
    "dt": 12345,
    "temp": "20",
    "time": "Thur 3pm",
    "description": "warm grey",
    "icon": "http://openweathermap.org/img/w/03d.png"
  }];
  onSuccess(data);
};

ReactDOM.render(
  &lt;WeatherForecast weather_fetcher={weather_fetcher_stub}/&gt;,
  document.getElementById('weather_forecast_mock')
);

</code></pre>

    <aside class="notes">
    </aside>
</section>

<!-- *************************** -->
<section>
    <h1>Weather forecast</h1>

    <p>
    <div id='weather_forecast_mock' class="weather_forecast"></div>
    </p>

    <p style="padding-bottom: 500px">

    </p>

    <aside class="notes">
    </aside>
</section>


<!-- *************************** -->
<section>
    <h1>React not just in the browser</h1>

    <p>
        Server side rendering - compiles with Node
    </p>

    <p>
        React native - for phones and tablets
    </p>
    <aside class="notes">
    </aside>
</section>

<!-- *************************** -->
<section style="width: 100%; text-align: center !important;">
  <img src="/images/ReactUsers.png" width="75%" />
</section>

<!-- *************************** -->
<section>
    <h1>Downsides</h1>

    <ul>
        <li>
            Doesn't play well with others
        </li>
        <li>
            NPM + Javascript ecosystem makes people want to become farmers
        </li>
        <li>
            Will it scale?
        </li>
    </ul>

    <aside class="notes">
    </aside>
</section>

<!-- *************************** -->
<section>
    <h1 class="embiggen finale">Fin</h1>
<ul>
  <li>Questions? Twitter @MrDanack</li>
    <li><a href="http://docs.basereality.com/ReactJsIntro/">docs.basereality.com/ReactJsIntro/</a></li>
    <li><a href="http://docs.basereality.com/">docs.basereality.com</a></li>
    <li><a href="/ReactJsIntro/jsx/clock.jsx">clock.jsx</a></li>
    <li><a href="/ReactJsIntro/jsx/simple_form.jsx">simple_form.jsx</a></li>
    <li><a href="/ReactJsIntro/jsx/weather_forecast.jsx">weather_forecast.jsx</a></li>
</ul>
</section>



<!-- *************************** -->
<section>
    <blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
        &ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
    </blockquote>
</section>

      </div>
  </div>

      <script src="lib/js/head.min.js"></script>
      <script src="js/reveal.js"></script>

      <script src="./jsx/hello_element.jsx" type="text/babel"></script>
      <script src="./jsx/clock.jsx" type="text/babel"></script>
      <script src="./jsx/simple_form.jsx" type="text/babel"></script>
      <script src="./jsx/weather_forecast.jsx" type="text/babel"></script>

      <script>
            // Full list of configuration options available at:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: false,
                history: true,
                center: true,
                width: 1600,
                height: 900,

                // Factor of the display size that should remain empty around the content
                margin: 0.1,
                slideNumber: true,
                //transition: 'slide', // none/fade/slide/convex/concave/zoom
                transition: 'none',
                //transitionSpeed: "slow",

                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    //{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    //{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad({languages: ["php"]}); },  },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });


            /* This draws the graph on the slide on a slidechanged event */
            Reveal.addEventListener('slidechanged', function(event) {
                var callback = "render_"+event.currentSlide.id;
                if(typeof(window[callback])=="function") {
                    window[callback]();
                }
            } );
            /* This draws the graph if we got here directly without coming from another slide */
            Reveal.addEventListener('ready', function(event) {
                var callback = "render_"+event.currentSlide.id;
                if(typeof(window[callback])=="function") {
                    window[callback]();
                }
            });

var createFunc = function() {
  var counter = 0;
    return function(e) {
      counter = (counter + 1);// % 1;

      var themeCSSList = [
        "css/theme/whiteDanack.css",
        "css/theme/beige.css",
        "css/theme/black.css",
        "css/theme/blood.css",
        "css/theme/league.css",
        "css/theme/moon.css",
        "css/theme/night.css",
        "css/theme/serif.css",
        "css/theme/simple.css",
        "css/theme/sky.css",
        "css/theme/solarized.css",
      ];

      var codeCSSList = [
        "lib/css/zenburn_backup.css",
        "lib/css/vsdanack.css",
      ];

      if(e.which == 67 || e.which == 99) { //'c'
//        var theme = themeCSSList[counter % themeCSSList.length];
//        $("#themecss").attr('href', theme);

        var codestyle = codeCSSList[counter % codeCSSList.length];
        $("#codeststylecss").attr('href', codestyle);
        $("#debug").text(codestyle);
      }
    };
};

          $(window).keypress(createFunc());
        </script>
    </body>


    <style type="text/css">
        .weather_forecast {
            border: 2px solid #1f1f1f !important;
            padding: 5px !important;
        }

        .react_block {
            border: 1px solid #1f1f1f !important;
        }

    </style>

</html>
